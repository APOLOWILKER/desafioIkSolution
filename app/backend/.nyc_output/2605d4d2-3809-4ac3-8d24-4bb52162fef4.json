{"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/connection.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/connection.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":39}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}},"4":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/connection.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/connection.ts"],"names":[],"mappings":";;AAAA,iCAAiC;AACjC,wCAAwC;AAExC,MAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,kBAAe,KAAK,CAAC,UAAU,CAAC;IAC9B,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;IAC5B,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;IAC5B,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc;IACpC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;CACjC,CAAC,CAAC","sourcesContent":["import * as dotenv from 'dotenv';\nimport * as mysql from 'mysql2/promise';\n\ndotenv.config();\n\nexport default mysql.createPool({\n  host: process.env.MYSQL_HOST,\n  user: process.env.MYSQL_USER,\n  password: process.env.MYSQL_PASSWORD,\n  database: process.env.MYSQL_NAME,\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4f69125dad9069a834366de2a34f534fc8663292"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/app.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":26},"end":{"line":5,"column":66}},"4":{"start":{"line":6,"column":20},"end":{"line":6,"column":49}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":29}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"7":{"start":{"line":13,"column":30},"end":{"line":18,"column":9}},"8":{"start":{"line":14,"column":12},"end":{"line":14,"column":59}},"9":{"start":{"line":15,"column":12},"end":{"line":15,"column":92}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":60}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":19}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":79}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":52}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":79}},"15":{"start":{"line":24,"column":36},"end":{"line":24,"column":77}},"16":{"start":{"line":27,"column":0},"end":{"line":27,"column":18}},"17":{"start":{"line":29,"column":0},"end":{"line":29,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":11,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":13},"end":{"line":21,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":30},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":51},"end":{"line":18,"column":9}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":16},"end":{"line":25,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":30},"end":{"line":24,"column":31}},"loc":{"start":{"line":24,"column":36},"end":{"line":24,"column":77}},"line":24}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":1,"17":1},"f":{"0":1,"1":1,"2":1,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/app.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,mEAA4D;AAC5D,kDAA4C;AAE5C,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,IAAI,EAAE,EAAE,yBAAe,CAAC,CAAC;QAE7D,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,mBAAU,CAAC,CAAC;IACrC,CAAC;IAED,MAAM;IACC,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,sBAAsB,IAAI,EAAE,CAAC,CAAC,CAAC;IACzE,CAAC;CACF;AAEQ,kBAAG;AAEZ,8DAA8D;AAC/C,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport Errormiddleware from './middlewares/Errormiddleware';\nimport taskRouter from './routes/TaskRoute';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n    this.config();\n  }\n\n  private config(): void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(accessControl, express.json(), Errormiddleware);\n\n    this.app.use('/tasks', taskRouter);\n  }\n\n  // ...\n  public start(PORT: string | number): void {\n    this.app.listen(PORT, () => console.log(`Escutando na porta ${PORT}`));\n  }\n}\n\nexport { App };\n\n// A execução dos testes de cobertura depende dessa exportação\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c146219b50f843a43544af8baf5fe65fb0d3547b"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/Errormiddleware.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/Errormiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":6,"column":2}},"2":{"start":{"line":4,"column":4},"end":{"line":4,"column":21}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":70}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":18},"end":{"line":3,"column":19}},"loc":{"start":{"line":3,"column":45},"end":{"line":6,"column":1}},"line":3}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/Errormiddleware.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/Errormiddleware.ts"],"names":[],"mappings":";;AAEA,kBAAe,CAAC,GAAwB,EAAE,IAAa,EAAE,GAAa,EAAE,KAAmB,EAAE,EAAE;IAC7F,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAEjB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC,CAAC;AACpE,CAAC,CAAC","sourcesContent":["import { ErrorRequestHandler, NextFunction, Request, Response } from 'express';\n\nexport default (err: ErrorRequestHandler, _req: Request, res: Response, _next: NextFunction) => {\n  console.log(err);\n\n  return res.status(500).json({ message: 'internal server error' });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9f79268045c77f6c67d44d465d46e4189e7090bd"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/routes/TaskRoute.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/routes/TaskRoute.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":63}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":44}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":35}},"5":{"start":{"line":7,"column":23},"end":{"line":7,"column":43}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":116}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":43}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/routes/TaskRoute.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/routes/TaskRoute.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,gEAEyD;AACzD,6CAAgD;AAEhD,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AACpC,MAAM,cAAc,GAAG,IAAI,cAAc,EAAE,CAAC;AAE5C,uBAAuB;AAEvB,UAAU,CAAC,MAAM,CACf,MAAM,EACN,cAAc,CAAC,UAAU,CAC1B,CAAC;AAEF,UAAU,CAAC,KAAK,CACd,MAAM,EACN,cAAc,CAAC,UAAU,CAC1B,CAAC;AAEF,UAAU,CAAC,IAAI,CACb,GAAG,EACH,gCAAgB,EAChB,iCAAiB,EACjB,cAAc,CAAC,SAAS,CACzB,CAAC;AAEF,UAAU,CAAC,GAAG,CACZ,GAAG,EACH,cAAc,CAAC,MAAM,CACtB,CAAC;AAEF,kBAAe,UAAU,CAAC","sourcesContent":["import * as express from 'express';\nimport {\n  validateTitleTask,\n  validateNameTask } from '../middlewares/validateTasks';\nimport TaskController from '../controller/Todo';\n\nconst taskRouter = express.Router();\nconst taskController = new TaskController();\n\n// ==== ROUTE TASKS ===\n\ntaskRouter.delete(\n  '/:id',\n  taskController.deleteTask,\n);\n\ntaskRouter.patch(\n  '/:id',\n  taskController.updateTask,\n);\n\ntaskRouter.post(\n  '/',\n  validateNameTask,\n  validateTitleTask,\n  taskController.creatTask,\n);\n\ntaskRouter.get(\n  '/',\n  taskController.getAll,\n);\n\nexport default taskRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d771cec1695f543921dd8a8efdf9e6bf5d7e66c6"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/validateTasks.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/validateTasks.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":26},"end":{"line":5,"column":34}},"3":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":72}},"5":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":77}},"7":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":93}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":11}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":46}},"11":{"start":{"line":19,"column":25},"end":{"line":19,"column":33}},"12":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":71}},"14":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"15":{"start":{"line":24,"column":8},"end":{"line":24,"column":76}},"16":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":92}},"18":{"start":{"line":29,"column":4},"end":{"line":29,"column":11}},"19":{"start":{"line":31,"column":0},"end":{"line":31,"column":44}}},"fnMap":{"0":{"name":"validateTitleTask","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":26}},"loc":{"start":{"line":4,"column":43},"end":{"line":16,"column":1}},"line":4},"1":{"name":"validateNameTask","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":42},"end":{"line":30,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},{"start":{"line":6,"column":4},"end":{"line":8,"column":5}}],"line":6},"1":{"loc":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},{"start":{"line":9,"column":4},"end":{"line":11,"column":5}}],"line":9},"2":{"loc":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},{"start":{"line":12,"column":4},"end":{"line":14,"column":5}}],"line":12},"3":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}}],"line":20},"4":{"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},{"start":{"line":23,"column":4},"end":{"line":25,"column":5}}],"line":23},"5":{"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},{"start":{"line":26,"column":4},"end":{"line":28,"column":5}}],"line":26}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/validateTasks.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/middlewares/validateTasks.ts"],"names":[],"mappings":";;;AAEA,SAAgB,iBAAiB,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;IAC/E,MAAM,EAAE,SAAS,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAE/B,IAAI,CAAC,SAAS,EAAE;QACd,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,CAAC;KACjE;IAED,IAAI,OAAO,CAAC,SAAS,CAAC,KAAK,QAAQ,EAAE;QACnC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,4BAA4B,EAAE,CAAC,CAAC;KACtE;IAED,IAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;QACzB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,4CAA4C,EAAE,CAAC,CAAC;KACtF;IAED,IAAI,EAAE,CAAC;AACT,CAAC;AAhBD,8CAgBC;AAED,SAAgB,gBAAgB,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;IAC9E,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAE9B,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE,CAAC,CAAC;KAChE;IAED,IAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;QAClC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACrE;IAED,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,2CAA2C,EAAE,CAAC,CAAC;KACrF;IAED,IAAI,EAAE,CAAC;AACT,CAAC;AAhBD,4CAgBC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nexport function validateTitleTask(req: Request, res: Response, next: NextFunction) {\n  const { titleTask } = req.body;\n\n  if (!titleTask) {\n    return res.status(400).json({ error: 'titleTask is required' });\n  }\n\n  if (typeof (titleTask) !== 'string') {\n    return res.status(422).json({ error: 'titleTask must be a string' });\n  }\n\n  if (titleTask.length <= 2) {\n    return res.status(422).json({ error: 'titleTask must be longer than 2 characters' });\n  }\n\n  next();\n}\n\nexport function validateNameTask(req: Request, res: Response, next: NextFunction) {\n  const { nameTask } = req.body;\n\n  if (!nameTask) {\n    return res.status(400).json({ error: 'nameTask is required' });\n  }\n\n  if (typeof (nameTask) !== 'string') {\n    return res.status(422).json({ error: 'nameTask must be a string' });\n  }\n\n  if (nameTask.length < 3) {\n    return res.status(422).json({ error: 'nameTask must be longer than 3 characters' });\n  }\n\n  next();\n}\n\n\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3d37b1b74a2c30b7226d4fc88de31277c6682084"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/controller/Todo.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/controller/Todo.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":21},"end":{"line":4,"column":52}},"2":{"start":{"line":5,"column":21},"end":{"line":5,"column":52}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":56}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":55}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":72}},"6":{"start":{"line":11,"column":8},"end":{"line":20,"column":10}},"7":{"start":{"line":12,"column":12},"end":{"line":19,"column":13}},"8":{"start":{"line":13,"column":30},"end":{"line":13,"column":61}},"9":{"start":{"line":14,"column":16},"end":{"line":14,"column":51}},"10":{"start":{"line":17,"column":16},"end":{"line":17,"column":32}},"11":{"start":{"line":18,"column":16},"end":{"line":18,"column":28}},"12":{"start":{"line":21,"column":8},"end":{"line":31,"column":10}},"13":{"start":{"line":22,"column":12},"end":{"line":30,"column":13}},"14":{"start":{"line":23,"column":48},"end":{"line":23,"column":56}},"15":{"start":{"line":24,"column":30},"end":{"line":24,"column":83}},"16":{"start":{"line":25,"column":16},"end":{"line":25,"column":51}},"17":{"start":{"line":28,"column":16},"end":{"line":28,"column":32}},"18":{"start":{"line":29,"column":16},"end":{"line":29,"column":28}},"19":{"start":{"line":32,"column":8},"end":{"line":42,"column":10}},"20":{"start":{"line":33,"column":12},"end":{"line":41,"column":13}},"21":{"start":{"line":34,"column":31},"end":{"line":34,"column":41}},"22":{"start":{"line":35,"column":16},"end":{"line":35,"column":53}},"23":{"start":{"line":36,"column":16},"end":{"line":36,"column":74}},"24":{"start":{"line":39,"column":16},"end":{"line":39,"column":32}},"25":{"start":{"line":40,"column":16},"end":{"line":40,"column":28}},"26":{"start":{"line":43,"column":8},"end":{"line":54,"column":10}},"27":{"start":{"line":44,"column":12},"end":{"line":53,"column":13}},"28":{"start":{"line":45,"column":48},"end":{"line":45,"column":56}},"29":{"start":{"line":46,"column":27},"end":{"line":46,"column":48}},"30":{"start":{"line":47,"column":35},"end":{"line":47,"column":97}},"31":{"start":{"line":48,"column":16},"end":{"line":48,"column":56}},"32":{"start":{"line":51,"column":16},"end":{"line":51,"column":32}},"33":{"start":{"line":52,"column":16},"end":{"line":52,"column":28}},"34":{"start":{"line":57,"column":0},"end":{"line":57,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":55,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":22},"end":{"line":11,"column":23}},"loc":{"start":{"line":11,"column":49},"end":{"line":20,"column":9}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":25},"end":{"line":21,"column":26}},"loc":{"start":{"line":21,"column":51},"end":{"line":31,"column":9}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":26},"end":{"line":32,"column":27}},"loc":{"start":{"line":32,"column":52},"end":{"line":42,"column":9}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":43,"column":26},"end":{"line":43,"column":27}},"loc":{"start":{"line":43,"column":52},"end":{"line":54,"column":9}},"line":43}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/controller/Todo.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/controller/Todo.ts"],"names":[],"mappings":";AAAA,aAAa;;AAGb,qDAA8C;AAC9C,qDAA6C;AAC7C,yDAAkD;AAElD,MAAqB,cAAc;IAAnC;QACE,gBAAW,GAAG,IAAI,qBAAW,EAAE,CAAC;QAEhC,cAAS,GAAG,IAAI,oBAAS,CAAC,oBAAU,CAAC,CAAC;QAE/B,WAAM,GAAG,KAAK,EAAE,IAAa,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YACzE,IAAI;gBACF,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;gBAC9C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACpC;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,EAAE,CAAC;gBAChB,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC,CAAC;QAEK,cAAS,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC3E,IAAI;gBACF,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;gBAEzC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;gBAEpE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACpC;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,EAAE,CAAC;gBAChB,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC,CAAC;QAEK,eAAU,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC5E,IAAI;gBACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;gBAE1B,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAErC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC,CAAC;aAC3D;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,EAAE,CAAC;gBAChB,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC,CAAC;QAEK,eAAU,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC5E,IAAI;gBACF,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;gBACzC,MAAM,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBAEjC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAClD,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,CAC5B,CAAC;gBAEF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACzC;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,EAAE,CAAC;gBAChB,IAAI,CAAC,KAAK,CAAC,CAAC;aACb;QACH,CAAC,CAAC;IACJ,CAAC;CAAA;AAxDD,iCAwDC","sourcesContent":["// controller\n\nimport { Request, Response, NextFunction } from 'express';\nimport connection from '../models/connection';\nimport TaskModel from '../models/ModelTasks';\nimport TaskService from '../services/ServiceTask';\n\nexport default class TaskController {\n  taskService = new TaskService();\n\n  taskModel = new TaskModel(connection);\n\n  public getAll = async (_req: Request, res: Response, next: NextFunction) => {\n    try {\n      const tasks = await this.taskService.getAll();\n      return res.status(200).json(tasks);\n    } catch (error) {\n      console.error();\n      next(error);\n    }\n  };\n\n  public creatTask = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { titleTask, nameTask } = req.body;\n\n      const tasks = await this.taskService.creatTask(titleTask, nameTask);\n\n      return res.status(200).json(tasks);\n    } catch (error) {\n      console.error();\n      next(error);\n    }\n  };\n\n  public deleteTask = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { id } = req.params;\n\n      await this.taskModel.deleteTask(+id);\n\n      return res.status(200).json({ message: 'Task deleted ' });\n    } catch (error) {\n      console.error();\n      next(error);\n    }\n  };\n\n  public updateTask = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { titleTask, nameTask } = req.body;\n      const id = Number(req.params.id);\n\n      const updateTask = await this.taskService.updateTask(\n        { id, titleTask, nameTask },\n      );\n\n      return res.status(200).json(updateTask);\n    } catch (error) {\n      console.error();\n      next(error);\n    }\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"940335e7251171d2f9809e1d7a1c8f6b0fb80111"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/ModelTasks.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/ModelTasks.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":37}},"2":{"start":{"line":8,"column":23},"end":{"line":9,"column":56}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":29}},"4":{"start":{"line":11,"column":8},"end":{"line":11,"column":20}},"5":{"start":{"line":14,"column":23},"end":{"line":14,"column":145}},"6":{"start":{"line":15,"column":31},"end":{"line":15,"column":37}},"7":{"start":{"line":16,"column":29},"end":{"line":16,"column":41}},"8":{"start":{"line":17,"column":25},"end":{"line":17,"column":113}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":89}},"11":{"start":{"line":24,"column":25},"end":{"line":24,"column":149}},"12":{"start":{"line":25,"column":8},"end":{"line":25,"column":22}},"13":{"start":{"line":28,"column":0},"end":{"line":28,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":28},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":19},"end":{"line":12,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":38},"end":{"line":19,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":25},"end":{"line":22,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":50},"end":{"line":26,"column":5}},"line":23}},"branchMap":{},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":2,"1":1,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/ModelTasks.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/models/ModelTasks.ts"],"names":[],"mappings":";;AAKA,MAAqB,SAAS;IAG5B,YAAY,UAAgB;QAC1B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,MAAM;QACjB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU;aACjC,OAAO,CAAkB,kCAAkC,CAAC,CAAC;QAChE,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;QACtB,OAAO,IAAgB,CAAC;IAC1B,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,SAAiB,EAAE,QAAgB;QAErD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAC1C,oEAAoE,EACpE,CAAC,SAAS,EAAE,QAAQ,CAAC,CACtB,CAAC;QACF,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC;QAC9B,MAAM,EAAE,QAAQ,EAAE,GAAG,YAAY,CAAC;QAElC,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAC5C,6CAA6C,EAC7C,CAAC,QAAQ,CAAC,CACX,CAAC;QAEF,OAAO,MAA2B,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,EAAU;QAChC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAC3B,2CAA2C,EAC3C,CAAC,EAAE,CAAC,CACL,CAAC;IACJ,CAAC;IAEM,KAAK,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAgB;QAC/D,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAC5C,kEAAkE,EAClE,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,CAAC,CAC1B,CAAC;QACF,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AA7CD,4BA6CC","sourcesContent":["import { Pool, RowDataPacket, ResultSetHeader } from 'mysql2/promise';\nimport IUpdateTasks from '../interfaces/updateTask';\nimport ICreateTask from '../interfaces/CreatTask';\nimport ITasks from '../interfaces/TaskInterface';\n\nexport default class TaskModel {\n  protected connection: Pool;\n\n  constructor(connection: Pool) {\n    this.connection = connection;\n  }\n\n  public async getAll(): Promise<ITasks[]> {\n    const result = await this.connection\n      .execute<RowDataPacket[]>('SELECT * FROM TodoDatabase.Tasks');\n    const [rows] = result;\n    return rows as ITasks[];\n  }\n\n  public async create(titleTask: string, nameTask: string)\n    : Promise<ICreateTask> {\n    const result = await this.connection.execute<ResultSetHeader>(\n      'INSERT INTO TodoDatabase.Tasks (titleTask, nameTask) VALUES (?, ?)',\n      [titleTask, nameTask],\n    );\n    const [dataInserted] = result;\n    const { insertId } = dataInserted;\n\n    const [select] = await this.connection.execute<RowDataPacket[]>(\n      'SELECT * from TodoDatabase.Tasks where id=?',\n      [insertId],\n    );\n\n    return select as unknown as ITasks;\n  }\n\n  public async deleteTask(id: number) {\n    await this.connection.execute<RowDataPacket[]>(\n      'DELETE FROM TodoDatabase.Tasks WHERE id=?',\n      [id],\n    );\n  }\n\n  public async updateTask({ id, titleTask, nameTask }: IUpdateTasks) {\n    const [result] = await this.connection.execute<ResultSetHeader>(\n      'UPDATE TodoDatabase.Tasks SET titleTask=?, nameTask=? WHERE id=?',\n      [titleTask, nameTask, id],\n    );\n    return result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9f0de97ca013e2a115e9c2e37b08f7bf7027f66a"},"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/services/ServiceTask.ts":{"path":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/services/ServiceTask.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":52}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":68}},"4":{"start":{"line":10,"column":22},"end":{"line":10,"column":47}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":21}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":54}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":65}},"8":{"start":{"line":18,"column":25},"end":{"line":18,"column":44}},"9":{"start":{"line":19,"column":24},"end":{"line":19,"column":65}},"10":{"start":{"line":19,"column":50},"end":{"line":19,"column":64}},"11":{"start":{"line":20,"column":8},"end":{"line":20,"column":29}},"12":{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":19},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":35},"end":{"line":15,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":50},"end":{"line":22,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":40},"end":{"line":19,"column":41}},"loc":{"start":{"line":19,"column":50},"end":{"line":19,"column":64}},"line":19}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/services/ServiceTask.ts","sources":["/home/apolowilke/Documents/personal-projects/desafioIkSolution/app/backend/src/services/ServiceTask.ts"],"names":[],"mappings":";;AAEA,qDAA8C;AAC9C,qDAA8C;AAG9C,MAAqB,WAAW;IAG9B;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,oBAAU,CAAC,oBAAU,CAAC,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,MAAM;QACjB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACxC,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,SAAS,CAAC,SAAiB,EAAE,QAAgB;QAElD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAA;IAC/C,CAAC;IAEM,KAAK,CAAC,UAAU,CACrB,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAgB;QAEzC,MAAM,IAAI,CAAC,KAAK,CAAC,UAAU,CACzB,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,CAC5B,CAAC;QACF,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;QACrC,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAY,EAAE,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;QAElE,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAErB,OAAO,OAAO,CAAC;IACjB,CAAC;CACF;AA9BD,8BA8BC","sourcesContent":["import IUpdateTasks from '../interfaces/updateTask';\nimport ICreateTask from '../interfaces/CreatTask';\nimport connection from '../models/connection';\nimport ModelTasks from '../models/ModelTasks';\nimport ITasks from '../interfaces/TaskInterface';\n\nexport default class TaskService {\n  public model: ModelTasks;\n\n  constructor() {\n    this.model = new ModelTasks(connection);\n  }\n\n  public async getAll(): Promise<ITasks[]> {\n    const tasks = await this.model.getAll();\n    return tasks;\n  }\n\n  public creatTask(titleTask: string, nameTask: string)\n    : Promise<ICreateTask> {\n    return this.model.create(titleTask, nameTask)\n  }\n\n  public async updateTask(\n    { id, titleTask, nameTask }: IUpdateTasks,\n  ): Promise<ITasks | any> {\n    await this.model.updateTask(\n      { id, titleTask, nameTask },\n    );\n    const findTask = await this.getAll();\n    const idMatch = findTask.filter((task: ITasks) => id === task.id);\n\n    console.log(idMatch);\n\n    return idMatch;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"62ba64b38cc18c25b4599841a912bfc68c12d247"}}